{% extends 'layout/base.html' %}

{% load static %}
{% load i18n %}

{% load csp %}

{% block extrahead %}
  {{ block.super }}
{% endblock %}

{% block layout %}
<div class="mdl-layout mdl-js-layout">
    <main class="mdl-layout__content mdl-color--grey-100">
      <div class="chancen-content mdl-grid">

          <div class="mdl-card mdl-shadow--6dp mdl-cell--12-col">
            <div class="mdl-card__title mdl-color--primary mdl-color-text--white relative">
                <h2 class="mdl-card__title-text">{% trans 'Carefully review the data before confirming' %}</h2>
            </div>
            
            <div class="mdl-card__supporting-text mdl-card--expand">
              <table class="mdl-data-table mdl-js-data-table">
                <thead>
                  <tr>
                    {% for header in data.fieldnames %}
                      <th class="mdl-data-table__cell--non-numeric">{{ header }}</th>
                    {% endfor %}
                    {% if course %}
                      <th class="mdl-data-table__cell--non-numeric">Studiengang</th>
                    {% endif %}
                  </tr>
                </thead>
                <tbody>
                {% for line in data %}
                  <tr>
                    {% for header in data.fieldnames %}
                      <td class="mdl-data-table__cell--non-numeric">{{ line|get:header }}</td>
                    {% endfor %}
                    {% if course %}
                      <td class="mdl-data-table__cell--non-numeric">{{ course.name }}</td>
                    {% endif %}
                  </tr>
                {% endfor %}
                </tbody>
              </table>
            </div>
            <div class="mdl-card__actions mdl-card--border mdl-grid">
              <div class="mdl-cell mdl-cell--1-col">
                <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent mdl-color-text--white" href="./discard/">
                  {% trans 'Discard' %}
                </a>
              </div>

              <div class="mdl-cell mdl-cell--1-col mdl-cell--1-offset-phone mdl-cell--5-offset-tablet mdl-cell--9-offset-desktop">
                {% if prev > 0 %}
                  <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" href="./?p={{ prev }}">
                    {% trans 'Back' %}
                  </a>
                {% endif %}
              </div>

              <div class="mdl-cell mdl-cell--1-col">
                <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary" href={% if next %}"./?p={{ next }}{% else %}./confirm/{% endif %}">
                  {% if next %}{% trans 'Next' %}{% else %}{% trans 'Confirm' %}{% endif %}
                </a>
              </div>
            </div>
          </div>

      </div>
    </main>
</div>
{% endblock %}
